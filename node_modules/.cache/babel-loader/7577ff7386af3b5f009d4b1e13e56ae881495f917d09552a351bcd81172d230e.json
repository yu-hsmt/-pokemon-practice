{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { computed, watch, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'PokemonList',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var store = useStore();\n    var searchQuery = computed({\n      get: function get() {\n        return store.state.searchQuery;\n      },\n      set: function set(value) {\n        return store.commit('SET_SEARCH_QUERY', value);\n      }\n    });\n    var sortOrder = computed(function () {\n      return store.state.sortOrder;\n    });\n    var filteredPokemons = computed(function () {\n      return store.getters.filteredPokemons;\n    });\n    var loading = computed(function () {\n      return store.getters.loading;\n    });\n    var pokemonDetails = function pokemonDetails(name) {\n      return store.getters.pokemonDetails(name);\n    };\n    var fetchPokemons = function fetchPokemons() {\n      return store.dispatch('fetchPokemons');\n    };\n    var fetchPokemonDetails = function fetchPokemonDetails(name) {\n      return store.dispatch('fetchPokemonDetails', name);\n    };\n    var toggleSortOrder = function toggleSortOrder() {\n      var newOrder = sortOrder.value === 'asc' ? 'desc' : 'asc';\n      store.commit('SET_ORDER', newOrder);\n    };\n    var loadPokemonDetails = function loadPokemonDetails(name) {\n      if (!pokemonDetails(name)) {\n        fetchPokemonDetails(name);\n      }\n    };\n    watch(filteredPokemons, function (newpokemons) {\n      newpokemons.forEach(function (pokemon) {\n        return loadPokemonDetails(pokemon.name);\n      });\n    });\n    onMounted(function () {\n      fetchPokemons();\n    });\n    var __returned__ = {\n      store: store,\n      searchQuery: searchQuery,\n      sortOrder: sortOrder,\n      filteredPokemons: filteredPokemons,\n      loading: loading,\n      pokemonDetails: pokemonDetails,\n      fetchPokemons: fetchPokemons,\n      fetchPokemonDetails: fetchPokemonDetails,\n      toggleSortOrder: toggleSortOrder,\n      loadPokemonDetails: loadPokemonDetails,\n      computed: computed,\n      watch: watch,\n      onMounted: onMounted,\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","watch","onMounted","useStore","store","searchQuery","get","state","set","value","commit","sortOrder","filteredPokemons","getters","loading","pokemonDetails","name","fetchPokemons","dispatch","fetchPokemonDetails","toggleSortOrder","newOrder","loadPokemonDetails","newpokemons","forEach","pokemon"],"sources":["/Users/yu/pokemon-app---/src/components/PokemonList.vue"],"sourcesContent":["<template>\n    <v-container>\n        <v-row>\n            <v-col cols=\"12\">\n               <v-text-field v-model=\"searchQuery\" label=\"Search Pokemons\" />\n            </v-col>\n            <v-col cols=\"12\">\n                <v-btn @click=\"toggleSortOrder\">Sort: {{ sortOrder === 'asc'?'昇順' : '降順' }}</v-btn>\n            </v-col>\n            <v-col cols=\"12\" v-if=\"loading\" class=\"loading_area\">\n                <v-progress-circular\n                    indeterminate\n                    color=\"primary\"\n                    size=\"64\"\n                ></v-progress-circular>\n            </v-col>\n            <v-col v-if=\"!loading\" v-for=\"pokemon in filteredPokemons\" :key=\"pokemon.name\" cols=\"12\" md=\"4\">\n                <v-card>\n                    <v-card-title>{{ pokemon.name }}</v-card-title>\n                    <v-card-text>\n                        <v-img\n                             v-if=\"pokemonDetails(pokemon.name)\"\n                             :src=\"pokemonDetails(pokemon.name).sprites.front_default\"\n                            :alt=\"pokemon.name\"\n                            height=\"200\"  \n                        ></v-img>\n                        <v-progress-circular\n                            v-else\n                            interminate\n                            color=\"primary\"\n                            ></v-progress-circular>\n                    </v-card-text>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n<script setup>\nimport { computed, watch, onMounted } from 'vue'\nimport { useStore } from 'vuex'\n\nconst store = useStore()\n\nconst searchQuery = computed({\n    get: () => store.state.searchQuery,\n    set: (value) => store.commit('SET_SEARCH_QUERY', value)\n})\n\nconst sortOrder = computed(() => store.state.sortOrder)\nconst filteredPokemons = computed(() => store.getters.filteredPokemons )\nconst loading = computed(() => store.getters.loading)\nconst pokemonDetails = (name) => store.getters.pokemonDetails(name)\n\nconst fetchPokemons = () => store.dispatch('fetchPokemons')\nconst fetchPokemonDetails = (name) => store.dispatch('fetchPokemonDetails', name)\n\nconst toggleSortOrder = () => {\n   const newOrder = sortOrder.value === 'asc' ?'desc' : 'asc'\n   store.commit('SET_ORDER', newOrder)\n}\n\nconst loadPokemonDetails = (name) => {\n    if(!pokemonDetails(name)) {\n        fetchPokemonDetails(name)\n    }\n}\n\nwatch(filteredPokemons, (newpokemons) => {\n    newpokemons.forEach(pokemon => loadPokemonDetails(pokemon.name))\n})\n\nonMounted(() => {\n    fetchPokemons()\n})\n</script>\n\n<style scoped>\n.loading_area {\n    display: flex;\n    justify-content: center;\n}\n\n.v-btn {\n    margin-bottom: 20px;\n}\n</style>\n"],"mappings":";;;;;AAuCA,SAASA,QAAQ,EAAEC,KAAK,EAAEC,SAAS,QAAQ,KAAK;AAChD,SAASC,QAAQ,QAAQ,MAAM;;;;;;IAE/B,IAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC;IAExB,IAAME,WAAW,GAAGL,QAAQ,CAAC;MACzBM,GAAG,EAAE,SAAAA,IAAA;QAAA,OAAMF,KAAK,CAACG,KAAK,CAACF,WAAW;MAAA;MAClCG,GAAG,EAAE,SAAAA,IAACC,KAAK;QAAA,OAAKL,KAAK,CAACM,MAAM,CAAC,kBAAkB,EAAED,KAAK,CAAC;MAAA;IAC3D,CAAC,CAAC;IAEF,IAAME,SAAS,GAAGX,QAAQ,CAAC;MAAA,OAAMI,KAAK,CAACG,KAAK,CAACI,SAAS;IAAA,EAAC;IACvD,IAAMC,gBAAgB,GAAGZ,QAAQ,CAAC;MAAA,OAAMI,KAAK,CAACS,OAAO,CAACD,gBAAgB;IAAA,CAAC,CAAC;IACxE,IAAME,OAAO,GAAGd,QAAQ,CAAC;MAAA,OAAMI,KAAK,CAACS,OAAO,CAACC,OAAO;IAAA,EAAC;IACrD,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,IAAI;MAAA,OAAKZ,KAAK,CAACS,OAAO,CAACE,cAAc,CAACC,IAAI,CAAC;IAAA;IAEnE,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA;MAAA,OAASb,KAAK,CAACc,QAAQ,CAAC,eAAe,CAAC;IAAA;IAC3D,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIH,IAAI;MAAA,OAAKZ,KAAK,CAACc,QAAQ,CAAC,qBAAqB,EAAEF,IAAI,CAAC;IAAA;IAEjF,IAAMI,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;MAC3B,IAAMC,QAAQ,GAAGV,SAAS,CAACF,KAAK,KAAK,KAAK,GAAE,MAAM,GAAG,KAAK;MAC1DL,KAAK,CAACM,MAAM,CAAC,WAAW,EAAEW,QAAQ,CAAC;IACtC,CAAC;IAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIN,IAAI,EAAK;MACjC,IAAG,CAACD,cAAc,CAACC,IAAI,CAAC,EAAE;QACtBG,mBAAmB,CAACH,IAAI,CAAC;MAC7B;IACJ,CAAC;IAEDf,KAAK,CAACW,gBAAgB,EAAE,UAACW,WAAW,EAAK;MACrCA,WAAW,CAACC,OAAO,CAAC,UAAAC,OAAO;QAAA,OAAIH,kBAAkB,CAACG,OAAO,CAACT,IAAI,CAAC;MAAA,EAAC;IACpE,CAAC,CAAC;IAEFd,SAAS,CAAC,YAAM;MACZe,aAAa,CAAC,CAAC;IACnB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}